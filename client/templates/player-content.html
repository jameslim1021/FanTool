<div class="players-total-header">
    <p class="table-nav">
        <a ui-sref="players.year({year: '2016'})">2016 /</a>
        <a ui-sref="players.year({year: '2015'})">2015 /</a>
        <a ui-sref="players.year({year: '2014'})">2014</a>
    </p>
    <form class="pure-form">
        <label>Search by name: <input type="text" ng-model="view.searchByName"></label>
        <label>Search by team: <input type="text" ng-model="view.searchByTeam"></label>
        <label>
            Search by position:
            <select ng-model="view.searchByPosition">
            <option value="">All</option>
            <option value="qb">QB</option>
            <option value="rb">RB</option>
            <option value="wr">WR</option>
            <option value="te">TE</option>
        </select>
        </label>
    </form>
</div>
<table class="players-table pure-table-horizontal">
    <thead>
        <tr>
            <th class="header-column">Name</th>
            <th class="data-column" ng-click="sortType = 'team'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">Team</th>
            <th class="data-column" ng-click="sortType = 'position'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">POS</th>
            <th class="data-column" ng-click="sortType = 'games_played'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">GP</th>
            <th class="data-column" ng-click="sortType = 'games_started'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">GS</th>
            <th class="data-column" ng-click="sortType = 'attempts'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">Att<i class="fa fa-sort" aria-hidden="true"></i></th>
            <th class="data-column" ng-click="sortType = 'completions'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">Cmps<i class="fa fa-sort" aria-hidden="true"></i></th>
            <th class="data-column" ng-click="sortType = 'pass_yards'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">Pass Yards<i class="fa fa-sort" aria-hidden="true"></i></th>
            <th class="data-column" ng-click="sortType = 'pass_tds'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">Pass TDs<i class="fa fa-sort" aria-hidden="true"></i></th>
            <th class="data-column" ng-click="sortType = 'interceptions'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">Int<i class="fa fa-sort" aria-hidden="true"></i></th>
            <th class="data-column" ng-click="sortType = 'carries'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">Att<i class="fa fa-sort" aria-hidden="true"></i></th>
            <th class="data-column" ng-click="sortType = 'rush_yards'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">Rush Yards<i class="fa fa-sort" aria-hidden="true"></i></th>
            <th class="data-column" ng-click="sortType = 'rush_tds'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">Rush TDs<i class="fa fa-sort" aria-hidden="true"></i></th>
            <th class="data-column" ng-click="sortType = 'targets'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">Tgt<i class="fa fa-sort" aria-hidden="true"></i></th>
            <th class="data-column" ng-click="sortType = 'receptions'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">Rec<i class="fa fa-sort" aria-hidden="true"></i></th>
            <th class="data-column" ng-click="sortType = 'rec_yards'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">Rec Yards<i class="fa fa-sort" aria-hidden="true"></i></th>
            <th class="data-column" ng-click="sortType = 'rec_tds'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">Rec TDs<i class="fa fa-sort" aria-hidden="true"></i></th>
            <th class="data-column" ng-click="sortType = 'fantasy'; sortReverse = !sortReverse; changeChartData(sortType, sortReverse, view.searchByName, view.searchByTeam, view.searchByPosition)">Fantasy<i class="fa fa-sort" aria-hidden="true"></i></th>
        </tr>
    </thead>
    <tbody>
        <tr ft-player-totals ng-repeat="player in view.players | filter:{name:view.searchByName, position:view.searchByPosition, team:view.searchByTeam} | orderBy:sortType:sortReverse | limitTo:250"></tr>
    </tbody>
</table>
<canvas id="line" class="chart chart-bar" chart-data="data"
chart-labels="view.playerNames" chart-dataset-override="datasetOverride" chart-options="options">
</canvas>
